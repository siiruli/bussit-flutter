
query Itinerary(
  $fromPlace: String,
  $toPlace: String,
  $nResults: Int,
  $time: String,
  $date: String,
  $arriveBy: Boolean,
  $allowBikeRental: Boolean,
  $modes: [TransportMode],
  $maxWalkDistance: Float,
){
  plan(
    fromPlace: $fromPlace,
    toPlace: $toPlace,
    numItineraries: $nResults,
    time: $time,
    date: $date,
    arriveBy: $arriveBy,
    allowBikeRental: $allowBikeRental,
    transportModes: $modes,
    maxWalkDistance: $maxWalkDistance,
  ) {
    itineraries {
      walkDistance
      duration
      startTime
      endTime
      waitingTime
      legs {
        realTime
        startTime
        endTime
        mode 
        transitLeg
        duration
        distance
        legGeometry {
          points
        }
        intermediateStops {
          lat
          lon 
          vehicleMode
        }
        from {
          name 
          stop {
            name
            gtfsId
            code
            desc
            zoneId
            vehicleMode
            locationType
            platformCode
          }
        }
        to {
          name 
          stop {
            name
            gtfsId
            code
            desc
            zoneId
            vehicleMode
            locationType
            platformCode
          }
        }
        trip {
          tripHeadsign
          routeShortName 
        }
      }
    }
  }
}
